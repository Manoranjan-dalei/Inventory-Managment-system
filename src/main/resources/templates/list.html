<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Inventory Management System</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-boxes"></i>
                <span>IMS Pro</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="/" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="/products" class="nav-link active">Products</a>
                </li>
                <li class="nav-item">
                    <a href="/inventory" class="nav-link">Inventory</a>
                </li>
                <li class="nav-item">
                    <a href="/reports" class="nav-link">Reports</a>
                </li>
                <li class="nav-item">
                    <a href="/about" class="nav-link">About</a>
                </li>
                <li class="nav-item">
                    <a href="/login" class="nav-link login-btn">Login</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Product Management Section -->
    <div class="product-container">
        <div class="product-header">
            <h1 class="product-title">Product Management</h1>
            <a href="/products/add" class="add-product-btn">
                <i class="fas fa-plus"></i>
                Add New Product
            </a>
        </div>

        <!-- Search and Filter Section -->
        <form id="searchForm" action="/products/search" method="get" class="search-filter-section" style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); padding: 20px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);">
            <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
                <div style="flex: 1; min-width: 250px;">
                    <input type="text" name="query" class="search-input" placeholder="Search products..." style="width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1rem;" value=""/>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="submit" class="btn btn-primary">Search</button>
                    <button type="button" class="sort-btn" data-column="name" style="padding: 10px 15px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        <i class="fas fa-sort-alpha-down"></i> Name
                    </button>
                    <button type="button" class="sort-btn" data-column="category" style="padding: 10px 15px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        <i class="fas fa-sort"></i> Category
                    </button>
                    <button type="button" class="sort-btn" data-column="price" style="padding: 10px 15px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        <i class="fas fa-sort-numeric-down"></i> Price
                    </button>
                </div>
            </div>
        </form>

        <!-- Products Table -->
        <div class="product-table">
            <table>
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Category</th>
                        <th>Description</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>SKU</th>
                        <th>Supplier</th>
                        <th>Location</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="product : ${products}">
                        <td data-name="[[${product.name}]]">[[${product.name}]]</td>
                        <td data-category="[[${product.category}]]">[[${product.category}]]</td>
                        <td>[[${product.description}]]</td>
                        <td data-price="[[${product.price}]]">$[[${product.price}]]</td>
                        <td data-quantity="[[${product.quantity}]]">[[${product.quantity}]]</td>
                        <td>[[${product.sku}]]</td>
                        <td>[[${product.supplier}]]</td>
                        <td>[[${product.location}]]</td>
                        <td>
                            <div class="action-buttons">
                                <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn-edit">
                                    <i class="fas fa-edit"></i> Edit
                                </a>
                                <a th:href="@{/products/delete/{id}(id=${product.id})}" class="btn-delete" 
                                   onclick="return confirm('Are you sure you want to delete this product?')">
                                    <i class="fas fa-trash"></i> Delete
                                </a>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Empty State -->
        <div th:if="${#lists.isEmpty(products)}" style="text-align: center; padding: 60px 20px; background: rgba(255, 255, 255, 0.95); border-radius: 20px; margin-top: 20px;">
            <i class="fas fa-box-open" style="font-size: 4rem; color: #ccc; margin-bottom: 20px;"></i>
            <h3 style="color: #666; margin-bottom: 10px;">No Products Found</h3>
            <p style="color: #999; margin-bottom: 30px;">Start by adding your first product to the inventory.</p>
            <a href="/products/add" class="btn btn-primary">
                <i class="fas fa-plus"></i> Add First Product
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>IMS Pro</h3>
                    <p>Advanced inventory management solution for modern businesses.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/products">Products</a></li>
                        <li><a href="/inventory">Inventory</a></li>
                        <li><a href="/reports">Reports</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="/help">Help Center</a></li>
                        <li><a href="/contact">Contact Us</a></li>
                        <li><a href="/docs">Documentation</a></li>
                        <li><a href="/api">API Reference</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <div class="contact-info">
                        <p><i class="fas fa-map-marker-alt"></i> 123 Business St, Tech City, TC 12345</p>
                        <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                        <p><i class="fas fa-envelope"></i> info@imspro.com</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 IMS Pro. All rights reserved. | Designed with <i class="fas fa-heart"></i> for modern businesses</p>
            </div>
        </div>
    </footer>

    <script th:src="@{/js/main.js}"></script>
</body>
</html>